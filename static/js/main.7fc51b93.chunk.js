(this.webpackJsonpsudoku=this.webpackJsonpsudoku||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n(24)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(7),c=n.n(o),l=(n(14),n(2)),i=n(4);n(15);function u(e){var t=e.className,n=e.children,r=Object(i.a)(e,["className","children"]);return a.a.createElement("button",Object.assign({className:"Button ".concat(t||"")},r),n)}n(16);function s(e){var t=e.isNewGameModalOpen,n=e.openNewGameModal,r=e.closeNewGameModal,o=e.newGame;return a.a.createElement("div",{className:"NewGameButton"},a.a.createElement(u,{className:"NewGameButton__btn",onClick:n},"New Game \u25be"),t&&a.a.createElement("div",{className:"NewGameButton__backdrop",onClick:r}),t&&a.a.createElement("div",{className:"NewGameButton__menu"},a.a.createElement(u,{onClick:function(){return o(0)}},"Very Easy"),a.a.createElement(u,{onClick:function(){return o(1)}},"Easy"),a.a.createElement(u,{onClick:function(){return o(2)}},"Medium"),a.a.createElement(u,{onClick:function(){return o(3)}},"Hard")))}function f(e){var t=e.newGame,n=Object(r.useState)(!1),o=Object(l.a)(n,2),c=o[0],i=o[1];function u(){i(!1)}return a.a.createElement(s,{isNewGameModalOpen:c,openNewGameModal:function(){i(!0)},closeNewGameModal:u,newGame:function(e,n){window.confirm("Are you sure?")&&(t(e,n),u())}})}n(17),n(18);var d=n(3);function p(e){return Object.entries(e).reduce((function(e,t){var n=Object(l.a)(t,2),r=n[0];return n[1]?[].concat(Object(d.a)(e),[r]):e}),[]).join(" ")}function O(e){var t=e.x,n=e.y,r=e.value,o=e.isReadOnly,c=e.isError,i=e.isHighlighted,u=e.candidates,s=e.selectedCell,f=e.selectCell;return a.a.createElement("div",{className:p({Cell:!0,"Cell--isSelected":s&&s.x===t&&s.y===n,"Cell--isHighlighted":i}),"data-x":t,"data-y":n,onClick:f},r?a.a.createElement("div",{className:p({Cell__value:!0,"Cell__value--isReadOnly":o,"Cell__value--isError":c})},r):Object.entries(u).filter((function(e){var t=Object(l.a)(e,2);t[0];return!!t[1]})).map((function(e){return Object(l.a)(e,1)[0]})).map((function(e){return a.a.createElement("div",{key:e,className:"Cell__candidate",style:{gridArea:"_".concat(e)},"data-cx":Math.floor((parseInt(e)-1)%3),"data-cy":Math.floor((parseInt(e)-1)/3)},e)})))}function b(e){var t=e.board,n=e.selectedCell,r=e.selectCell;return t?a.a.createElement("div",{className:"Board"},t.map((function(e,t){return e.map((function(e,o){var c=e.value,l=e.candidates,i=e.isReadOnly,u=e.isError,s=e.isHighlighted;return a.a.createElement(O,{key:"".concat(o,",").concat(t),x:o,y:t,value:c,candidates:l,isReadOnly:i,isError:u,isHighlighted:s,selectedCell:n,selectCell:function(){return r({x:o,y:t})}})}))}))):null}n(19);function g(e){var t=e.isInsertingValue;return a.a.createElement("span",{className:p({InsertModeIcon:!0,"InsertModeIcon--candidate":!t,"InsertModeIcon--value":t})},"\xa0")}n(20);function v(e){var t=e.selectedCell,n=e.isInsertingValue,r=e.toggleWriteMode,o=e.toggleValue;return a.a.createElement("div",{className:"Controls"},Array.from({length:9},(function(e,r){var c=t&&!t.isReadOnly&&(!n&&t.candidates[r+1+""]||n&&t.value===r+1+"");return a.a.createElement(u,{key:r,onClick:function(){return o(r+1+"")},className:p({"Button--isActive":c,"Button--isDisabled":t&&t.isReadOnly})},r+1)})),a.a.createElement(u,{onClick:function(){return r()}},a.a.createElement(g,{isInsertingValue:n})))}function y(e){var t=e.selectedCell,n=e.isInsertingValue,o=e.toggleWriteMode,c=e.toggleValue;return Object(r.useEffect)((function(){function e(e){e.preventDefault(),e.stopPropagation();var t=e.key;" "!==t?t<"1"||t>"9"||c(t):o()}return window.document.addEventListener("keypress",e),function(){window.document.removeEventListener("keypress",e)}}),[]),a.a.createElement(v,{selectedCell:t,isInsertingValue:n,toggleWriteMode:o,toggleValue:c})}n(21);function m(e){var t=e.selectCell,n=e.toggleWriteMode,r=e.toggleValue,o=e.newGame,c=e.board,l=e.selectedCell,i=e.isInsertingValue;return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App__header"},a.a.createElement("h1",{className:"App__title"},"Sudoku"),a.a.createElement("div",{className:"App__newGameContainer"},a.a.createElement(f,{newGame:o}))),a.a.createElement(b,{board:c,selectedCell:l,selectCell:t}),a.a.createElement(y,{selectedCell:l&&c[l.y][l.x],isInsertingValue:i,toggleWriteMode:n,toggleValue:r}))}var j,w=n(1);function h(e){e&&window.localStorage.setItem("sudoku",JSON.stringify(e))}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){Object(w.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var I="SET_BOARD",S="SELECT_CELL",V="TOGGLE_WRITE_MODE",M="TOGGLE_VALUE",_={isInsertingValue:!0,selectedCell:null,board:null},D=(j={},Object(w.a)(j,I,(function(e,t){var n=t.board;return h(n),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){Object(w.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{board:n})})),Object(w.a)(j,S,(function(e,t){var n=t.selectedCell,r=e.selectedCell;return r&&r.x===n.x&&r.y===n.y?P({},e,{selectedCell:null}):P({},e,{selectedCell:n})})),Object(w.a)(j,V,(function(e){var t=e.isInsertingValue;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){Object(w.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(i.a)(e,["isInsertingValue"]),{isInsertingValue:!t})})),Object(w.a)(j,M,(function(e,t){var n=t.value,r=e.isInsertingValue,a=e.selectedCell,o=e.board;if(!a||!o)return e;var c=a.x,l=a.y,i=Object(d.a)(o);return!0===i[l][c].isReadOnly?e:(r?i[l][c].value===n?i[l][c].value=null:i[l][c].value=n:i[l][c].candidates[n]=!i[l][c].candidates[n],h(i),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){Object(w.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{board:i}))})),j);function G(e,t){return D.hasOwnProperty(t.type)?D[t.type].call(null,e,t):e}function x(e,t){if(!e||!t)return e;var n=e[t.y][t.x].value;if(!n)return e;for(var r=JSON.parse(JSON.stringify(e)),a=0;a<9;a+=1)for(var o=0;o<9;o+=1){r[a][o].value!==n||o===t.x&&a===t.y||(r[a][o].isHighlighted=!0)}return r}var W=function(){for(var e=[],t=0;t<9;t+=1){for(var n=[],r=[],a=0;a<9;a+=1)n.push({x:t,y:a}),r.push({x:a,y:t});e.push(n),e.push(r)}for(var o=0;o<9;o+=3)for(var c=0;c<9;c+=3){for(var l=[],i=0;i<3;i+=1)for(var u=0;u<3;u+=1)l.push({x:c+u,y:o+i});e.push(l)}return e}();function A(e){if(!e)return e;var t=JSON.parse(JSON.stringify(e));return W.forEach((function(e){var n=e.map((function(e){var n=e.x,r=e.y;return t[r][n].value})).filter((function(e){return!!e})),r=n.reduce((function(e,t){return n.indexOf(t)!==n.lastIndexOf(t)&&e.indexOf(t)<0?[].concat(Object(d.a)(e),[t]):e}),[]);0!==r.length&&e.forEach((function(e){var n=e.x,a=e.y;r.indexOf(t[a][n].value)>=0&&(t[a][n].isError=!0)}))})),t}var R=n(8),B=2147483646;function L(e){return function(){var t;return this.previousValue=this.previousValue||e,16807*((t=e)<=0?t+B:t)%2147483647/B}}var J=["VeryEasy","Easy","Medium","Hard"];function H(e,t){var n=Math.random;Math.random=L(t);var r=Object(R.getSudoku)(J[e]);return Math.random=n,r.map((function(e){return e.map((function(e){return{value:e?"".concat(e):null,candidates:{1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1,9:!1},isReadOnly:null!==e}}))}))}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(){var e=Object(r.useReducer)(G,_),t=Object(l.a)(e,2),n=t[0],a=n.board,o=n.selectedCell,c=Object(i.a)(n,["board","selectedCell"]),u=t[1];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){Object(w.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c,{selectedCell:o,board:A(x(a,o)),toggleWriteMode:function(){u({type:V})},setBoard:function(e){u({type:I,board:e})},newGame:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e8*Math.random();u({type:I,board:H(e,t)})},selectCell:function(e){u({type:S,selectedCell:e})},toggleValue:function(e){u({type:M,value:e})}})}var $=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function q(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(a.a.createElement((function(){var e=U(),t=e.newGame,n=e.setBoard,o=e.selectCell,c=e.toggleWriteMode,l=e.toggleValue,i=e.board,u=e.selectedCell,s=e.isInsertingValue;return Object(r.useEffect)((function(){var e=window.localStorage.getItem("sudoku");e?n(JSON.parse(e)):t(0)}),[]),a.a.createElement(m,{board:i,selectedCell:u,isInsertingValue:s,selectCell:o,toggleWriteMode:c,toggleValue:l,newGame:t})}),null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/sudoku",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/sudoku","/service-worker.js");$?(!function(e,t){fetch(e).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):q(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):q(t,e)}))}}()}],[[9,1,2]]]);
//# sourceMappingURL=main.7fc51b93.chunk.js.map